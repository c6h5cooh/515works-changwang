<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>Index</title>
		<script>
			window.currentPageIndex = 1;
			window.currentPageName="index";
			window.currentPageNumber=1;
		</script>
		<script src="../public/movement.js" type="text/javascript"></script>
		<link href="css/bar1-6.css" rel="stylesheet" />
		<link href="css/six-points.css" rel="stylesheet" />
		<link href="css/waterdrop.css" rel="stylesheet" />
		<link href="https://cdn-1251928468.cos.ap-beijing.myqcloud.com/last-bar.css" rel="stylesheet" />
		<link href="../public/favicon.ico" type="image/x-icon" rel="shortcut icon" />
		
		<!--extend-column资源-->
		<link href="../public/extend-column.css" rel="stylesheet"/>
		<link href="../public/left-nav.css" rel="stylesheet"/>
	</head>
	<body style="margin: 0px; overflow: hidden;">
		<left-nav>
			<logo></logo>
			<btn-item id="btn-item-1"></btn-item>
			<mouse-extend-region>
				<btn-item id="btn-item-2"></btn-item>
				<btn-item id="btn-item-3"></btn-item>
				<btn-item id="btn-item-4"></btn-item>
				<btn-item id="btn-item-5"></btn-item>
				<extend-column></extend-column>
			</mouse-extend-region>
			<btn-item id="btn-item-6"></btn-item>
		</left-nav>
		
		<div id="bar1"></div>
		<div id="bar2"></div>
		<div id="bar3"></div>
		<div id="bar4"></div>
		<div id="bar5"></div>
		<div id="bar6"></div>
		<img id="waterdrop-1-1" src="img/waterdrop-text3.png" />
		<img id="waterdrop-1-2" src="img/waterdrop-text1.png" />
		<img id="waterdrop-1-3" src="img/waterdrop-text2.png" />
		<div id="six-points">
			<div id="p1"></div>
			<div id="p2"></div>
			<div id="p3"></div>
			<div id="p4"></div>
			<div id="p5"></div>
			<div id="p6"></div>
		</div>
		
		<last-bar>
			<social-network>
				<left>
					<div>
						<img src="https://cdn-1251928468.cos.ap-beijing.myqcloud.com/sina.png" />
						<p>蒙牛官方微博</p>
					</div>
				</left>
				<right>
					<div id="sina-btn">
						<img src="https://cdn-1251928468.cos.ap-beijing.myqcloud.com/wechat.png" />
						<p>蒙牛官方微博</p>
					</div>
					<qrcode></qrcode>
				</right>
			</social-network>
			<mengniu-link>
				<a href="#">关于蒙牛</a>
				<link-sep></link-sep>
				<a href="#">媒体中心</a>
				<link-sep></link-sep>
				<a href="#">投资者中心</a>
				<link-sep></link-sep>
				<a href="#">加入我们</a>
				<link-sep></link-sep>
				<a href="#">蒙牛微客服</a>
				<link-sep></link-sep>
				<a href="#">蒙牛天猫旗舰店</a>
				<link-sep></link-sep>
				<a href="#">牛蒙蒙APP</a>
			</mengniu-link>
			<mengniu-corp>
				<span>CopyRight 2006-2019, All Rights Reserved 内蒙古蒙牛乳业 版权所有 蒙ICP备05005622号</span>
				<a href="#"><img src="https://cdn-1251928468.cos.ap-beijing.myqcloud.com/police.png"/>蒙公网安备 15012302000103号</a>
				<p>
					<a href="http://www.fractal-technology.com" target="_blank" >技术支持</a>:
					<a href=" http://www.fractal-technology.com" target="_blank">北京分形科技</a>
				</p>
			</mengniu-corp>
		</last-bar>
	</body>
	<script>
		var obj = document.documentElement;
		document.documentElement.wheelComplete = true;
		document.documentElement.style.height = window.innerHeight * 6 + "px"
		document.documentElement.onmousewheel = function(ev)
		{
			if (document.documentElement.wheelComplete == true)
			{

				var event = ev || window.event;
				//event.wheelDelta为负,向下

				if (event.wheelDelta > 0) //向上
				{

					setTimeout
						(
							function()
							{
								scroll(0, document.documentElement.scrollTop - 2);
								setTimeout
									(
										function()
										{
											scroll(0, document.documentElement.scrollTop - 2);
											setTimeout
												(
													function()
													{
														scroll(0, document.documentElement.scrollTop - 2);
														setTimeout
															(
																function()
																{
																	scroll(0, document.documentElement.scrollTop - 2);
																	setTimeout
																		(
																			function()
																			{
																				scroll(0, document.documentElement.scrollTop - 2);
																				setTimeout
																					(
																						function()
																						{
																							scroll(0, document.documentElement.scrollTop - 2);
																							setTimeout
																								(
																									function()
																									{
																										scroll(0, document.documentElement.scrollTop - 1);
																										setTimeout
																											(
																												function()
																												{
																													scroll(0, document.documentElement.scrollTop - 1);
																													setTimeout
																														(
																															function()
																															{
																																scroll(0, document.documentElement.scrollTop - 1);
																																setTimeout
																																	(
																																		function()
																																		{
																																			scroll(0, document.documentElement.scrollTop - 1);
																																			setTimeout
																																				(
																																					function()
																																					{
																																						scroll(0, document.documentElement.scrollTop - 1);
																																						setTimeout
																																							(
																																								function()
																																								{
																																									scroll(0, document.documentElement.scrollTop - 1);
																																								},
																																								1
																																							);
																																					},
																																					1
																																				);
																																		},
																																		1
																																	);
																															},
																															1
																														);
																												},
																												1
																											);
																									},
																									1
																								);
																						},
																						1
																					);
																			},
																			1
																		);
																},
																1
															);
													},
													1
												);
										},
										1
									);
							},
							1
						);


					if (document.documentElement.scrollTop == 0)
					{
						return false;
					}
					var target = document.documentElement.scrollTop - window.innerHeight;
					document.documentElement.wheelComplete = false;
					var timer = setInterval(
						function()
						{

							scroll(0, document.documentElement.scrollTop - 4);

							if (Math.abs(document.documentElement.scrollTop - target) <= 6)
							{
								clearInterval(timer);
								console.log(window.currentPageIndex)
								document.documentElement.wheelComplete = true;
								scroll(0, target);
								//window.currentPageIndex -= 1;
								window.currentPageIndex = Math.floor(document.documentElement.scrollTop/window.innerHeight)+1;
								for (var i = 1; i <= 6; i++)
								{
									if (i == window.currentPageIndex)
									{
										document.getElementById("p" + i).style.backgroundPosition = "-0px 0px";
									}
									else
									{
										document.getElementById("p" + i).style.backgroundPosition = "-22px 0px";
									}
								}
								document.getElementById("waterdrop-1-1").timer = null;
								document.getElementById("waterdrop-1-2").timer = null;
								document.getElementById("waterdrop-1-3").timer = null;
								console.log("ele", document.getElementById("waterdrop-1-1"));
								console.log("targetleft", window.wppos[window.currentPageIndex][1][1]);
								console.log("targettop", window.wppos[window.currentPageIndex][1][2]);
								
								movement(document.getElementById("waterdrop-1-1"), 'left', window.wppos[window.currentPageIndex][1][1],function(){},null);
								movement(document.getElementById("waterdrop-1-1"), 'top', window.wppos[window.currentPageIndex][1][2],function(){},null);
								movement(document.getElementById("waterdrop-1-2"), 'top', window.wppos[window.currentPageIndex][2][2],function(){},null);
								movement(document.getElementById("waterdrop-1-2"), 'left', window.wppos[window.currentPageIndex][2][1],function(){},null);
								movement(document.getElementById("waterdrop-1-3"), 'top', window.wppos[window.currentPageIndex][3][2],function(){},null);
								movement(document.getElementById("waterdrop-1-3"), 'right', window.wppos[window.currentPageIndex][3][1],function(){},null);
								if (window.currentPageIndex != 6)
								{
									document.getElementsByTagName("last-bar")[0].style.display = 'none';
									document.getElementById("six-points").style.display = "flex";
								}
							}
						},
						0.5
					);
				}
				else
				{
					var target = document.documentElement.scrollTop + window.innerHeight;
					if (document.documentElement.scrollTop + window.innerHeight + "px" === window.getComputedStyle(document.documentElement,
							null)['height'])
					{
						return false;
					}
					setTimeout
						(
							function()
							{
								scroll(0, document.documentElement.scrollTop + 2);
								setTimeout
									(
										function()
										{
											scroll(0, document.documentElement.scrollTop + 2);
											setTimeout
												(
													function()
													{
														scroll(0, document.documentElement.scrollTop + 2);
														setTimeout
															(
																function()
																{
																	scroll(0, document.documentElement.scrollTop + 2);
																	setTimeout
																		(
																			function()
																			{
																				scroll(0, document.documentElement.scrollTop + 2);
																				setTimeout
																					(
																						function()
																						{
																							scroll(0, document.documentElement.scrollTop + 2);
																							setTimeout
																								(
																									function()
																									{
																										scroll(0, document.documentElement.scrollTop + 2);
																										setTimeout
																											(
																												function()
																												{
																													scroll(0, document.documentElement.scrollTop + 2);
																												},
																												1
																											);
																									},
																									1
																								);
																						},
																						1
																					);
																			},
																			1
																		);
																},
																1
															);
													},
													1
												);
										},
										1
									);
							},
							1
						);

					document.documentElement.wheelComplete = false;
					var timer = setInterval(
						function()
						{

							scroll(0, document.documentElement.scrollTop + 4);
							// if(document.documentElement.scrollTop%window.innerHeight==0)
							// {
							// 	clearInterval(timer);
							// 	document.documentElement.wheelComplete=true;
							// }
							if (Math.abs(document.documentElement.scrollTop - target) <= 6)
							{
								clearInterval(timer);
								console.log(window.currentPageIndex)
								document.documentElement.wheelComplete = true;
								scroll(0, target);
								//window.currentPageIndex += 1;
								window.currentPageIndex = Math.floor(document.documentElement.scrollTop/window.innerHeight)+1;
								for (var i = 1; i <= 6; i++)
								{
									if (i == window.currentPageIndex)
									{
										document.getElementById("p" + i).style.backgroundPosition = "-0px 0px";
									}
									else
									{
										document.getElementById("p" + i).style.backgroundPosition = "-22px 0px";
									}
								}
								
								movement(document.getElementById("waterdrop-1-1"), 'left', wppos[window.currentPageIndex][1][1],function(){},null);
								movement(document.getElementById("waterdrop-1-1"), 'top', wppos[window.currentPageIndex][1][2],function(){},null);
								movement(document.getElementById("waterdrop-1-2"), 'top', wppos[window.currentPageIndex][2][2],function(){},null);
								movement(document.getElementById("waterdrop-1-2"), 'left', wppos[window.currentPageIndex][2][1],function(){},null);
								movement(document.getElementById("waterdrop-1-3"), 'top', wppos[window.currentPageIndex][3][2],function(){},null);
								movement(document.getElementById("waterdrop-1-3"), 'right', wppos[window.currentPageIndex][3][1],function(){},null);
								if (window.currentPageIndex == 6)
								{
									document.getElementsByTagName("last-bar")[0].style.display = 'block';
									document.getElementById("six-points").style.display = "none";
								}
							}
						},
						0.5
					);
				}
			}
			return false;
		}
	</script>
	<script src="js/bar1-6.js"></script>
	<script src="https://cdn-1251928468.cos.ap-beijing.myqcloud.com/last-bar.js"></script>
	<script src="js/waterdrop.js"></script>
	<script src="../public/left-nav.js"></script>
</html>
